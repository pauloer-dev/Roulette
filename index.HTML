<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Roulette Block-Jump Tool</title>
  <style>
    :root {
      --bg: #0b0f14;
      --card: #121824;
      --muted: #8ea0b8;
      --text: #e8eef7;
      --accent: #ff6a3d;
      --ok: #39d98a;
      --border: rgba(255,255,255,.08);
      --shadow: 0 12px 28px rgba(0,0,0,.35);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --radius: 16px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: var(--sans);
      background: radial-gradient(1200px 700px at 20% 0%, rgba(255,106,61,.12), transparent 60%),
                  radial-gradient(900px 600px at 100% 30%, rgba(57,217,138,.10), transparent 55%),
                  var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 20px;
    }
    .wrap {
      width: min(860px, 100%);
      display: grid;
      gap: 14px;
    }
    .header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 12px;
      padding: 10px 6px;
    }
    h1 {
      margin: 0;
      font-size: 18px;
      letter-spacing: .2px;
    }
    .hint { color: var(--muted); font-size: 13px; }
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    .card-inner { padding: 16px; }
    .controls {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 12px;
      align-items: end;
    }
    .field label {
      display: block;
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
    }
    input[type="number"] {
      width: 100%;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,.25);
      color: var(--text);
      font-size: 15px;
      outline: none;
    }
    input[type="number"]:focus { border-color: rgba(255,106,61,.5); box-shadow: 0 0 0 4px rgba(255,106,61,.12); }
    .btns { display: flex; gap: 10px; }
    button {
      appearance: none;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.03);
      color: var(--text);
      padding: 12px 14px;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: transform .05s ease, border-color .15s ease, background .15s ease;
      white-space: nowrap;
    }
    button.primary {
      border-color: rgba(255,106,61,.55);
      background: rgba(255,106,61,.12);
    }
    button:active { transform: translateY(1px); }
    .toggles {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 12px;
    }
    .toggle {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,.18);
      user-select: none;
    }
    .toggle input { transform: translateY(1px); }
    .out {
      display: grid;
      gap: 10px;
      padding: 14px 16px 18px;
      border-top: 1px solid var(--border);
    }
    .row {
      display: grid;
      grid-template-columns: 1fr;
      gap: 8px;
      padding: 14px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,.16);
    }
    .tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      letter-spacing: .2px;
    }
    .tag .emoji { font-size: 16px; }
    .tag .label { font-size: 13px; color: var(--muted); font-weight: 600; }
    .nums {
      font-family: var(--mono);
      font-size: 16px;
      letter-spacing: .4px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .pill {
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.03);
      min-width: 44px;
      text-align: center;
    }
    .pill.fire { border-color: rgba(255,106,61,.40); }
    .pill.ok { border-color: rgba(57,217,138,.40); }
    .meta {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      color: var(--muted);
      font-size: 13px;
    }
    .meta code {
      font-family: var(--mono);
      background: rgba(255,255,255,.03);
      border: 1px solid var(--border);
      padding: 2px 6px;
      border-radius: 8px;
      color: var(--text);
      font-size: 12px;
    }
    .error {
      color: #ffb4a2;
      border-color: rgba(255,180,162,.35) !important;
      background: rgba(255,180,162,.08) !important;
    }
    .footer {
      padding: 12px 16px;
      border-top: 1px solid var(--border);
      color: var(--muted);
      font-size: 12px;
      line-height: 1.4;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <h1>Roulette Block-Jump Tool</h1>
      <div class="hint">Mode A = automatic blocks ‚Ä¢ Mode B = optional neighbors</div>
    </div>

    <div class="card">
      <div class="card-inner">
        <div class="controls">
          <div class="field">
            <label for="hit">Last hit number (0‚Äì36)</label>
            <input id="hit" type="number" inputmode="numeric" min="0" max="36" step="1" placeholder="e.g., 17" />
          </div>
          <div class="btns">
            <button class="primary" id="calcBtn">Calculate</button>
            <button id="clearBtn" title="Clear input and output">Clear</button>
          </div>
        </div>

        <div class="toggles">
          <label class="toggle">
            <input id="modeB" type="checkbox" />
            <span><strong>Mode B</strong> (¬±1 neighbors)</span>
          </label>
        </div>

        <div class="meta" id="meta"></div>
      </div>

      <div class="out" id="out">
        <div class="row">
          <div class="tag"><span class="emoji">üéØ</span> <span>Enter a number and press <span class="label">Calculate</span></span></div>
          <div class="hint">We‚Äôll output two target blocks in the other two dozens. If Mode B is on, we expand each block by ¬±1 (clamped to 1‚Äì36).</div>
        </div>
      </div>

      <div class="footer">
        <strong>Logic:</strong> Split each dozen into 4 blocks of 3 (1‚Äì3, 4‚Äì6, 7‚Äì9, 10‚Äì12). When a hit lands in a block, output the <em>same block index</em> in the other two dozens.
        <br/>
        <strong>Note:</strong> 0 has no dozen/block ‚Üí shown as RESET.
      </div>
    </div>
  </div>

  <script>
    const hitEl = document.getElementById("hit");
    const modeBEl = document.getElementById("modeB");
    const outEl = document.getElementById("out");
    const metaEl = document.getElementById("meta");
    const calcBtn = document.getElementById("calcBtn");
    const clearBtn = document.getElementById("clearBtn");

    function clamp(n, lo, hi) { return Math.max(lo, Math.min(hi, n)); }

    function getDozenStart(dozen) {
      if (dozen === 1) return 1;
      if (dozen === 2) return 13;
      if (dozen === 3) return 25;
      return null;
    }

    function getDozen(n) {
      if (n >= 1 && n <= 12) return 1;
      if (n >= 13 && n <= 24) return 2;
      if (n >= 25 && n <= 36) return 3;
      return null; // includes 0 or invalid
    }

    function getBlockIndex(n) {
      // block within its dozen: 1..4
      const pos = ((n - 1) % 12) + 1; // 1..12
      return Math.ceil(pos / 3);      // 1..4
    }

    function makeBlock(dozen, blockIndex) {
      const start = getDozenStart(dozen);
      const offset = (blockIndex - 1) * 3;
      const a = start + offset;
      return [a, a + 1, a + 2];
    }

    function expandBlock(block) {
      const a = block[0], c = block[2];
      const lo = clamp(a - 1, 1, 36);
      const hi = clamp(c + 1, 1, 36);
      const arr = [];
      for (let i = lo; i <= hi; i++) arr.push(i);
      return arr;
    }

    function pills(nums, kind) {
      return nums.map(n => `<span class="pill ${kind}">${n}</span>`).join("");
    }

    function renderRow(kindEmoji, title, dozenLabel, nums, kindClass) {
      return `
        <div class="row">
          <div class="tag">
            <span class="emoji">${kindEmoji}</span>
            <span>${title} <span class="label">${dozenLabel}</span></span>
          </div>
          <div class="nums">${pills(nums, kindClass)}</div>
        </div>
      `;
    }

    function renderError(msg) {
      outEl.innerHTML = `
        <div class="row error">
          <div class="tag"><span class="emoji">‚ö†Ô∏è</span> <span>Input error</span></div>
          <div>${msg}</div>
        </div>
      `;
      metaEl.textContent = "";
    }

    function renderReset() {
      outEl.innerHTML = `
        <div class="row">
          <div class="tag"><span class="emoji">üåÄ</span> <span>Hit was <strong>0</strong> ‚Üí <span class="label">RESET</span></span></div>
          <div class="hint">0 has no dozen/block. Practical play: ignore this spin for the tool and restart from the next non-zero hit.</div>
        </div>
      `;
      metaEl.innerHTML = `<span>Dozen: <code>none</code></span> <span>Block: <code>none</code></span>`;
    }

    function calculate() {
      const raw = hitEl.value.trim();
      if (raw === "") return renderError("Enter a number from 0 to 36.");

      const n = Number(raw);
      if (!Number.isInteger(n) || n < 0 || n > 36) {
        return renderError("Please enter a whole number between <strong>0</strong> and <strong>36</strong>.");
      }

      if (n === 0) return renderReset();

      const dozen = getDozen(n);
      const blockIndex = getBlockIndex(n);

      // determine target dozens (the other two)
      const targetDozens = [1,2,3].filter(d => d !== dozen);

      const blockA = makeBlock(targetDozens[0], blockIndex);
      const blockB = makeBlock(targetDozens[1], blockIndex);

      metaEl.innerHTML = `
        <span>Hit: <code>${n}</code></span>
        <span>Dozen: <code>${dozen}${dozen===1?"st":dozen===2?"nd":"rd"}</code></span>
        <span>Block: <code>${blockIndex}</code> (<code>${makeBlock(dozen, blockIndex).join(" ")}</code>)</span>
      `;

      const modeB = modeBEl.checked;

      let html = "";
      // Mode A (always)
      html += renderRow("üî•", blockA.join(" "), `(${targetDozens[0]}${targetDozens[0]===1?"st":targetDozens[0]===2?"nd":"rd"} dozen)`, blockA, "fire");
      html += renderRow("üî•", blockB.join(" "), `(${targetDozens[1]}${targetDozens[1]===1?"st":targetDozens[1]===2?"nd":"rd"} dozen)`, blockB, "fire");

      // Mode B (optional)
      if (modeB) {
        const exA = expandBlock(blockA);
        const exB = expandBlock(blockB);
        html += renderRow("‚úÖ", exA.join(" "), `(Mode B)`, exA, "ok");
        html += renderRow("‚úÖ", exB.join(" "), `(Mode B)`, exB, "ok");
      }

      outEl.innerHTML = html;
    }

    function clearAll() {
      hitEl.value = "";
      modeBEl.checked = false;
      metaEl.textContent = "";
      outEl.innerHTML = `
        <div class="row">
          <div class="tag"><span class="emoji">üéØ</span> <span>Enter a number and press <span class="label">Calculate</span></span></div>
          <div class="hint">Mode A outputs two blocks in the other two dozens. Mode B expands each block by ¬±1 (clamped to 1‚Äì36).</div>
        </div>
      `;
      hitEl.focus();
    }

    calcBtn.addEventListener("click", calculate);
    clearBtn.addEventListener("click", clearAll);

    hitEl.addEventListener("keydown", (e) => {
      if (e.key === "Enter") calculate();
    });

    // nice default focus
    hitEl.focus();
  </script>
</body>
</html>
